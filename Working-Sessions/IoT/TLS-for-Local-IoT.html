<!DOCTYPE html>
<html>
  <head>
<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
<!-- The above 3 meta tags *must* come first in the head-->
<title>TLS for Local IoT (OWASP Summit 2017)</title>
<meta name="description" content="OWASP Summit 2017"/>
<meta name="keywords" content="OWASP Summit 2017"/>
<meta name="author" content="owaspsummit.org"/>
<!-- this icon shows in browser toolbar-->
<link rel="icon" type="image/x-icon" href="/website/assets/img/owasp-grey.ico"/>
<!-- Css-->
<link rel="stylesheet" href="/website/assets/libs/bootstrap/css/bootstrap.min.css" media="all"/>
<link id="blocks-style" rel="stylesheet" href="/website/assets/css/blocks.css" media="all"/>
<!-- Scripts-->
<script src="/website/assets/libs/jquery-1.12.4.min.js"></script>
<script src="/website/assets/libs/countdown.js"></script>
<script src="/website/assets/libs/custom.script.js"></script>
<script src="/website/assets/libs/bootstrap/js/bootstrap.min.js"></script></head>
  <body>
<!-- HEADER-->
<header>
  <div class="container">
    <div class="row">
      <div class="col-xs-12">
        <nav id="menu-offscroll" class="navbar navbar-default">
          <div class="navbar-header">
            <button type="button" data-toggle="collapse" data-target=".navbar-collapse" class="navbar-toggle"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/website"><img src="/website/assets/img/blocks/logo-small.png" alt="owasp summit small logo"/></a>
          </div>
          <div class="collapse navbar-collapse blocks-menu">
            <!--.navbar-collapse.blocks-menu-->
            <!--center-->
            <ul class="nav navbar-nav">
              <li><a href="/pages/schedule">Schedule</a></li>
              <li><a href="/website/working-sessions.html">Tracks</a></li>
              <li><a href="/website/participants.html">Participants</a></li>
              <li><a href="/website/venue.html">Venue</a></li>
              <li><a href="/pages/faq">Faq</a></li>
              <li><a href="/website/blog.html">Blog</a></li>
              <li><a href="/website/sponsors.html">Sponsors</a></li>
              <li><a href="/website/about.html">About</a></li>
              <li><a href="/website/summit-organization.html">Admin</a></li>
              <button class="btn btn-primary"><a href="/website/buy-ticket.html">Buy Ticket</a></button>
            </ul>
          </div>
        </nav>
      </div>
    </div>
  </div>
</header>
    <div class="page-content">
      <div class="container">
<div class="working-session">
  <div class="container">
    <h1>TLS for Local IoT</h1>
    <div class="ws-metadata"><b>Track: &#32;</b><a href="/Working-Sessions/DevSecOps">DevSecOps</a><br/><b>Topics: &#32;</b>
      <a href="/Working-Sessions/Technologies/TLS.html">TLS</a>
      <span>,</span>
      
      <a href="/Working-Sessions/Technologies/IoT.html">IoT</a>
      
      
      <br/>
      
      <b>Organizer(s): &#32;</b>
      <a href="/Participants/ticket-8h/Kevin-Sheldrake.html">Kevin Sheldrake</a>
      
      
      <br/>
      
      <b>Participants(s): &#32;</b>
      <a href="/Participants/remote/Carlos-Serrao.html">Carlos Serrao</a>
      <span>(remotely)</span>
      <span>,</span>
      
      <a href="/Participants/summit-editors/Devesh-Bhatt.html">Devesh Bhatt</a>
      
      <span>,</span>
      
      <a href="/Participants/ticket-24h-sponsor/Francois-Raynaud.html">Francois Raynaud</a>
      
      <span>,</span>
      
      <a href="/Participants/ticket-24h/Hamza-Alkofahi.html">Hamza Alkofahi</a>
      
      <span>,</span>
      
      <a href="/Participants/ticket-24h/Johan-Peeters.html">Johan Peeters</a>
      
      <span>,</span>
      
      <a href="/Participants/ticket-8h/Kevin-Sheldrake.html">Kevin Sheldrake</a>
      
      <span>,</span>
      
      <a href="/Participants/remote/Tamer-Elzayyat.html">Tamer Elzayyat</a>
      <span>(remotely)</span>
      
      <br/><br/><b>When: &#32;</b><a href="/pages/schedule/Mon.html">Mon</a><br/><b>Time: PM-1</b><br/><b>Location: Room-1</b><br/>
    </div>
    <hr/><p>The Internet of Things is not going away. Devices are low-powered, networked, and they require secure administration. SSL/TLS typically only works securely on the wider internet due to the requirement for trustable end-point identification to bootstrap the trust model. This working session aims to analyse the problem and propose solutions.</p>

<h2 id="why">Why</h2>

<p>IoT devices require secure administration. Currently devices are administered using web protocols. Using plain HTTP is weak due to the problems of MITM credentials and/or read/write data. Using HTTPS/SSL/TLS is problematic because it is currently difficult, if not impossible, to trust the certificates provided by the IoT devices; e.g. a MITM attacker could establish a connection with the IoT device and serve a different certificate to the admin user, essentially decrypting, modifying, or injecting traffic into the session.</p>

<p>Current solutions rely on pinned certificates that are vulnerable on first use, or JS-based solutions over HTTP that are vulnerable to MITM. Essentially, the problem relates to how the admin user trusts the certificate provided by the device. Given that the devices are only identified by local IP addresses, it is difficult or impossible to create a certificate authority to solve the problem in the same manner used on the wider Internet.</p>

<h2 id="what">What</h2>

<p>The session will analyse the problem of securely administering IoT devices, and will propose solutions. This could involve additions to the SSL/TLS suite to address local trust; it could also involve methods for trusted identification of end-points; equally it could approach the problem from the perspective of a local certificate authority. Ultimately, the administrator’s web browser (or other software) needs to ensure that it is communicating with the device and not with a MITM attacker.  Proposals should address personal computers and mobile/tablet use cases equally.</p>

<p>See ‘Proposal’ below for more detailed information.</p>

<h2 id="definition-of-done">Definition of Done</h2>

<p>Developed roadmap for TLS-SRP implementation and adoption.</p>

<p>This will include:</p>
<ul>
  <li>Roadmap for web server implementations - community projects? liasion with web server vendors?</li>
  <li>Roadmap for web browser implementations - community projects? liasion with web browser vendors?</li>
  <li>Roadmap for IoT and embedded vendor adoption - publicity? industry liasion?</li>
</ul>

<h2 id="who">Who</h2>

<p>The target audience for this Working Session is:</p>

<ul>
  <li>IoT:
    <ul>
      <li>vendors,</li>
      <li>security consultants,</li>
      <li>security architects</li>
    </ul>
  </li>
  <li>Penetration testers</li>
  <li>Risk managers</li>
  <li>Cryptographers</li>
  <li>PKI enthusiasts.</li>
</ul>

<h2 id="proposal">Proposal</h2>

<p>Develop a roadmap for the full implementation and adoption of Transport Layer Security - Secure Remote Password (TLS-SRP).  Other approaches can be considered, but TLS-SRP appears to meet the requirements if it is implemented correctly. TLS-SRP lends itself to user credentials better than TLS-PSK (lower entropy requirements), it is built on established crypto principles, and it is already implemented in some required components.</p>

<p>While cloud-based servers could be used to administer IoT devices - local configuration of local network access by audio, Bluetooth, or light-based protocols from a mobile device, followed by secure connections to the cloud server by both the device and the administration web browser, with control/configuration relayed between the two - this is a costly option for many vendors and only works while Internet access can be provided to the device and while the cloud service is still maintained.  This may become the norm in the future but, for now, many devices support local web admin interfaces and these cannot be secured with traditional TLS.</p>

<h2 id="proposed-approach">Proposed Approach</h2>

<p>To use TLS-SRP in IoT and embedded spaces, we will need:</p>

<ul>
  <li>TLS-SRP implemented in embedded web servers, such as lighttpd (https://www.lighttpd.net/) and GoAhead (https://embedthis.com/goahead/).</li>
  <li>TLS-SRP implemented in web browsers, such as Chrome (boringssl), Firefox (NSS) and Internet Explorer, plus mobile versions of the same.</li>
  <li>IoT and embedded vendor adoption.</li>
</ul>

<p>Implementations in the web servers will largely take the form of patches to the web server software to allow them to make use of the functionality already existing within the libraries.</p>

<p>Implementations in the web browsers will require:</p>

<ul>
  <li>patches to the TLS libraries (boringssl and NSS).</li>
  <li>patches to the web browsers to use the new functionality.</li>
  <li>a UI design that enables its use - this will likely involve a browser authentication window, a different coloured padlock (to indicate to the user that the connection is SRP and not traditional TLS) plus a logout button (to destroy the locally held credentials and close/reset the browser windows).</li>
</ul>

<p>Implementations in the admin web interfaces will require some form of transitional functionality to cover the period where the embedded web servers implement TLS-SRP but the user browsers do not.  If the admin credentials are required during TLS negotiation for SRP, but after negotiation for traditional TLS (login page), then it might be tricky to implement these on the same TLS server, depending on web server support.  In these cases, the web server might need to support TLS-SRP on one port (with no traditional TLS fallback on that port) and traditional TLS on a separate port (if deemed desirable).</p>

<p>Suggestions include:</p>

<ul>
  <li>Plain HTTP on port 80, TLS-SRP HTTPS on port 443; no traditional TLS as it makes no sense.</li>
  <li>Browser sniffing on HTTP (port 80) with redirects to TLS-SRP HTTPS on port 443 for browsers that support it, or plain HTTP on port 80 for browsers that don’t, with a message to the user about browser security.</li>
  <li>Browser sniffing on HTTP (port 80) with redirects to TLS-SRP HTTPS on one port (442?) for browsers that support it, or traditional (insecure in this environment) TLS on port 443 for browsers that don’t.  These ports could be reversed in the future after browser adoption and transition.</li>
  <li>Server side scripts to identify if browser successfully negotiated SRP with redirect to login page if not.</li>
</ul>

<p>Once implemented, IoT and embedded vendors will need to be encouraged to use TLS-SRP over traditional TLS for web admin security.</p>

<h2 id="background">Background</h2>

<p>SRP (Secure Remote Password) is a secure password-based authentication and key-exchange protocol, defined here: http://srp.stanford.edu/whatisit.html .  Versions 6 and 6a are the latest versions.  The protocol is based on the discrete logarithm problem and defends against eavesdropping and man-in-the-middle attacks.  The security is derived from a shared password known to both the user/client and the server.</p>

<p>TLS-SRP is already implemented in the</p>

<ul>
  <li>OpenSSL and GnuTLS libraries;</li>
  <li>Apache web server (mod_ssl and mod_gnutls);</li>
  <li>Curl web transfer agent.</li>
</ul>

<p>Default user credentials are already per-device for many IoT and embedded products, with the credentials printed on the bottom/back of the device or included with the user documentation.</p>

<h2 id="references-and-comments">References and Comments</h2>

<ul>
  <li><em>“TLS is a poor suggestion for IoT, and I personally wouldn’t advise creating recommendations toward using it. Better recs in near future.”</em> - see <a href="https://twitter.com/DonAndrewBailey/status/858719418813120512">twitter thread</a> for more comments.</li>
</ul>

<br/>
    <hr/>
    <p>Back to list of <a href='/website/working-sessions.html'>all Working Sessions and Tracks</a></p>
    <p>Edit this page <a href='https://github.com/OWASP/owasp-summit-2017/blob/master/Working-Sessions/IoT/TLS-for-Local-IoT.md'>here </a></p>
  </div>
</div></div>
    </div>
<div class="footer">
  <div class="container">
    <div class="row">
      <div class="col-xs-0 col-sm-0"></div>
      <div class="col-xs-6 col-sm-6">
        <h2>Code of Conduct</h2>
        <p>The OWASP Summit is dedicated to providing a harassment-free event experience for everyone, regardless of gender, sexual orientation, disability, physical appearance, body size, race, or religion. We do not tolerate harassment of summit participants in any form in any summit venue, including working sessions, social events, or other channels of communication. A summit participant who violates these rules will be asked to stop. Should the participant not comply, the participant may be expelled from the summit without a refund. The summit organisers reserve the right to expel anyone who violates these rules.</p>
      </div>
      <div class="col-xs-3 col-sm-3">
        <h2>Contact</h2>
        <p>OWASP Foundation</p>
        <p>1200-C Agora Drive, #232</p>
        <p>Bel Air, MD 21014</p>
        <p>USA</p>
        <p>+1 951-692-7703 (tel)</p>
        <p>+1 443-283-4021(fax)</p>
      </div>
      <div class="col-xs-3 col-sm-3">
        <h2>Follow Us</h2><a href="https://twitter.com/owaspsummit" target="_blank"><img src="/website/assets/img/blocks/twitter.png" alt="twitter logo"/></a><a href="https://github.com/OWASP/owasp-summit-2017" target="_blank"><img src="/website/assets/img/blocks/github.png" alt="github logo"/></a>
      </div>
      <div class="col-xs-0 col-sm-0"></div>
    </div>
  </div>
</div>
    
  </body>
</html>